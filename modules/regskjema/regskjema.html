
<div ng-if="aktivObjekttype != 0" ng-controller="regskjemaCtrl" >
<h2>Registrer nytt objekt</h2>

<h3><span class="nr">1</span>Stedfesting</h3>

<div class="egenskapstype">
    <h4>Egengeometri</h4>
    <input type="text" ng-model="stedfesting.egengeometri" placeholder="Trykk i kart" disabled="disabled">
    <button ng-if="harEgengeometri" ng-click="fjernEgengeometri()">Fjern</button>
    <span ng-repeat="geometritype in objekttype[aktivObjekttype].geometri">
        <button ng-if="geometritype.navn == 'Geometri, punkt'" ng-click="startMarker()" ng-disabled="harEgengeometri">Punkt</button>
        <button ng-if="geometritype.navn == 'Geometri, linje'" ng-click="startPolyline()" ng-disabled="harEgengeometri">Linje</button>
        <button ng-if="geometritype.navn == 'Geometri, flate'" ng-click="startPolygon()" ng-disabled="harEgengeometri">Flate</button>
    </span>
</div>

<div class="egenskapstype">
    <h4>Vegnettstilknytning</h4>
    <input type="text" ng-model="stedfesting.vegnettstilknytning" placeholder="Trykk pÃ¥ lenke" disabled="disabled">
    <button ng-if="harVegnettstilknytning" ng-click="fjernVegnettstilknytning()">Fjern</button>
    <button ng-if="objekttype[aktivObjekttype].geometriType == 'LINJE'" ng-click="hentVegnett()" ng-disabled="harVegnettstilknytning">Linje</button>
</div>

<h3><span class="nr">2</span>Egenskaper</h3>

<div ng-repeat="egenskapstype in objekttype[aktivObjekttype].egenskapsTyper | orderBy:['viktighetnr', 'sorteringsnummer']" class="egenskapstype">
    <h4>
        {{egenskapstype.navn}} 
        <span class="viktighet">{{egenskapstype.viktighet}}</span>
    </h4>
    
    <ng-switch on="egenskapstype.type">
        <!-- ENUM -->
        <select ng-switch-when="ENUM">
            <option value="">Velg verdi</option>
            <option ng-repeat="enum in egenskapstype.enumVerdier" ng-value="{{enum.id}}">{{enum.verdi}}</option>
        </select>
        
        <!-- Tekst -->
        <input type="text" placeholder="Skriv inn tekst" ng-switch-when="Tekst">
        
        <!-- Tall -->
        <input type="text" placeholder="Skriv inn tall" ng-switch-when="Tall">

        <!-- Dato -->
        <input type="text" placeholder="YYYY-MM-DD" ng-switch-when="Dato">
        
        <!-- Klokkeslett -->
        <input type="text" placeholder="hh:ss" ng-switch-when="Klokkeslett">
        
        <!-- Default -->
        <input type="text" placeholder="{{egenskapstype.type}}" ng-switch-default>
    </ng-switch>
    
    <p ng-if="egenskapstype.beskrivelse" class="beskrivelse">{{egenskapstype.beskrivelse}}</p>
    
    <!--
    <p class="beskrivelse">
        {{egenskapstype.viktighet}}. {{egenskapstype.beskrivelse}}. 
        <span ng-if="egenskapstype.enhet" title="{{egenskapstype.enhet.navn}}">{{egenskapstype.enhet.kortNavn}}</span>
    </p>
    -->
</div>

<!--<h3><span class="nr">3</span>Datterobjekter</h3>-->

</div>
